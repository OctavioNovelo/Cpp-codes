#include <iostream>

using namespace std;

int main(){

    long long m;
    long long t;
    long long u;
    long long f;
    long long d;

    cin >> m >> t >> u >> f >> d;
    long long l[t]; 

    char U;
    char F;
    char D;

    U == u;
    F == f;
    D == d;

    cin >> l[t];
    
    if (l[0] == U)
    {
        for (int cont = 0; cont < 0; cont++){
            l.forEach(U + l[0]);
      }
    }
    else if (l[0] == D)
    {
        for (int cont = 0; cont < 0; cont++){
            l.forEach(D + l[0]);
      }
    }
    else{
        l.forEach(U + U) && l.forEach(D + D);
    }
    
    long long no_suma = l.suma[t];
    long long suma = l.suma[t];

    long long result;

    result = m - l;

    if (result <= m)
    {
        for(;l[t] == m;){
            result = l.forEach(t++);
        }
    }
    
    cout << result;
    

}